
<!DOCTYPE html>
<html>
<head>
    <title>自动读取CSV示例</title>
    <style>
        body { padding: 20px; font-family: Arial; }
        #result { margin-top: 20px; padding: 10px; border: 1px solid #ccc; }
        .loading { color: #666; font-style: italic; }
    </style>
</head>
<body>
    <h2>CSV 第二行数据</h2>
    <div id="result" class="loading">数据加载中...</div>

    <script>
        (async () => {
            try {
                const csvUrl = 'https://abcwords.online/csv/wordslist.csv';
                const resultDiv = document.getElementById('result');
                
                // 发送请求
                const response = await fetch(csvUrl);
                if (!response.ok) throw new Error(`HTTP 错误! 状态码: ${response.status}`);
                
                // 处理数据
                const csvText = await response.text();
                const rows = csvText.split('\n').filter(row => row.trim() !== '');
                
                if (rows.length < 2) throw new Error('CSV 需要至少两行数据');
                const secondRow = rows[1];
                
                // 安全输出（防XSS）
                const sanitize = str => str.replace(/</g, '&lt;').replace(/>/g, '&gt;');
                
                // 构建显示内容
                resultDiv.innerHTML = `
                    <p>原始行: <code>${sanitize(secondRow)}</code></p>
                    <p>解析字段:</p>
                    <ul>
                        ${secondRow.split(',')
                            .map(item => `<li>${sanitize(item.trim())}</li>`)
                            .join('')
                        }
                    </ul>
                `;
                
                resultDiv.classList.remove('loading');

            } catch (error) {
                document.getElementById('result').innerHTML = 
                    `<p style="color: red">加载失败: ${error.message}</p>`;
            }
        })();
    </script>
</body>
</html>
